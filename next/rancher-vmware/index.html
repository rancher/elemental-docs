<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-rancher-vmware">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.1">
<title data-rh="true">Elemental - Immutable Linux for Rancher</title><meta data-rh="true" property="og:title" content="Elemental - Immutable Linux for Rancher"><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://rancher.github.io/next/rancher-vmware"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="description" content="Excerpt"><meta data-rh="true" property="og:description" content="Excerpt"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://rancher.github.io/next/rancher-vmware"><link data-rh="true" rel="alternate" href="https://rancher.github.io/next/rancher-vmware" hreflang="en"><link data-rh="true" rel="alternate" href="https://rancher.github.io/next/rancher-vmware" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://QLF01IU46G-dsn.algolia.net" crossorigin="anonymous"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=GTM-57KS2MW"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","GTM-57KS2MW",{})</script>


<link rel="search" type="application/opensearchdescription+xml" title="Elemental - Immutable Linux for Rancher" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.28eb29ea.css">
<link rel="preload" href="/assets/js/runtime~main.d14b8822.js" as="script">
<link rel="preload" href="/assets/js/main.8f8f1b98.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="Elemental - Immutable Linux for Rancher" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/logo.svg" alt="Elemental - Immutable Linux for Rancher" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Elemental</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/next/">Documentation</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/next/">Next ðŸš§</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/next/rancher-vmware">Next ðŸš§</a></li><li><a class="dropdown__link" href="/rancher-vmware">1.2</a></li></ul></div><a href="https://github.com/rancher/elemental" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><a href="https://rancher-users.slack.com/channels/elemental" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link" aria-label="Slack Channel"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/next/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="true" href="/next/quickstart-ui">Quickstarts</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/quickstart-ui">Elemental the visual way</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/quickstart-cli">Elemental the command line way</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/next/architecture">Architecture</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/next/installation">Install/Upgrade</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/next/cloud-config-reference">Reference</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/next/inventory-management">Operator</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/next/backup">Backup</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/next/wifi">How to</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/wifi">Configure Wi-Fi</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/elemental_behind_proxy">Elemental behind proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/next/rancher-vmware">How to use Elemental with Rancher and VMware</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/next/removable-device-cloudconfig">Include cloud-config from removable devices</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/next/troubleshooting-rancher-upgrades">Troubleshooting</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/next/release-notes">Release Notes</a></li></ul></nav></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for <!-- -->Elemental - Immutable Linux for Rancher<!-- --> <b>Next ðŸš§</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/rancher-vmware">latest version</a></b> (<!-- -->1.2<!-- -->).</div></div><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">How to</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">How to use Elemental with Rancher and VMware</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>How to use Elemental with Rancher and VMware</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="excerpt">Excerpt<a href="#excerpt" class="hash-link" aria-label="Direct link to Excerpt" title="Direct link to Excerpt">â€‹</a></h2><p>In this document we will see how we can enable elemental support in Rancher and then build iso and test it on a vm in VMware mimicking it for an edge device.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">â€‹</a></h2><ol><li>Rancher 2.7 or higher installed and running.</li><li>One Linux machine with docker installed.</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-1-rancher-configuration">Part 1: Rancher Configuration<a href="#part-1-rancher-configuration" class="hash-link" aria-label="Direct link to Part 1: Rancher Configuration" title="Direct link to Part 1: Rancher Configuration">â€‹</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="11-enable-the-extensions-under-rancher-configurations-menu">1.1 Enable the extensions under Rancher configurations menu<a href="#11-enable-the-extensions-under-rancher-configurations-menu" class="hash-link" aria-label="Direct link to 1.1 Enable the extensions under Rancher configurations menu" title="Direct link to 1.1 Enable the extensions under Rancher configurations menu">â€‹</a></h3><p>Click on extensions under the configuration menu and enable it by hitting enable.</p><p><img loading="lazy" alt="Enable extensions in Rancher" src="/assets/images/rancher-vmware-extensions-menu-3417b5f0744722377d8b9e1826abc4f8.png" width="323" height="193" class="img_ev3q"></p><p>Once you click on enable a dialogue box will pop up asking for confirmation and it will also notify you that the rancher extensions repository will be enabled, make sure it is checked and then confirm.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="12-install-elemental-plugin">1.2 Install Elemental Plugin<a href="#12-install-elemental-plugin" class="hash-link" aria-label="Direct link to 1.2 Install Elemental Plugin" title="Direct link to 1.2 Install Elemental Plugin">â€‹</a></h3><p>After the extensions are enabled under the available tab you should see elemental plugin available for installation.</p><p><img loading="lazy" alt="Elemental extension enabled" src="/assets/images/rancher-vmware-extension-enabled-c4e29279c65407712c74245a906fe8f1.png" width="770" height="367" class="img_ev3q"></p><p>Click on Install, this will again ask for a confirmation. Click on Install again to continue. Once the installation is finished it will ask to reload the tab. Reload it by hitting reload, post reloading you should see the elemental plugin under the installed tab.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="13-install-the-elemental-operator-in-rancher-cluster">1.3 Install the elemental operator in Rancher cluster<a href="#13-install-the-elemental-operator-in-rancher-cluster" class="hash-link" aria-label="Direct link to 1.3 Install the elemental operator in Rancher cluster" title="Direct link to 1.3 Install the elemental operator in Rancher cluster">â€‹</a></h3><p>The next step is to install the elemental operator in Rancher Cluster. For that connect to the Rancher K8S cluster and enter the below command:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">helm upgrade --create-namespace -n cattle-elemental-system --install elemental-operator-crds oci://registry.suse.com/rancher/elemental-operator-crds-chart</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">helm upgrade --create-namespace -n cattle-elemental-system --install elemental-operator oci://registry.suse.com/rancher/elemental-operator-chart</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Elemental operator install" src="/assets/images/rancher-vmware-elemental-operator-install-ead7a27570833aea52fc48bf864e7458.png" width="2100" height="527" class="img_ev3q"></p><p>Once the command is successful validate whether the the pod is running before continuing</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">kubectl get pods -n cattle-elemental-system</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Elemental operator pod" src="/assets/images/rancher-vmware-elemental-operator-pod-5cf9077cbdd41cc2ea98372e615773e3.png" width="817" height="120" class="img_ev3q"></p><p>This will enable the &quot;OS Management&quot; sub menu under the &quot;Global Apps&quot; menu.</p><p><img loading="lazy" alt="OS Management menu" src="/assets/images/rancher-vmware-osmanagement-menu-18bc9bca56db4f66db675cb679e6ada9.png" width="433" height="272" class="img_ev3q"></p><p>The OS Management dashboard at this point should have nothing in it.</p><p><img loading="lazy" alt="OS Management dashboard" src="/assets/images/rancher-vmware-osmanagement-dashboard-5ec27221ddfdd9d63f846c6370847cbd.png" width="2546" height="913" class="img_ev3q"></p><p>At this point we are ready to proceed with the next step, that is to prepare the ISO.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-2-create-the-machine-registration-endpoint">Part 2: Create the Machine Registration Endpoint<a href="#part-2-create-the-machine-registration-endpoint" class="hash-link" aria-label="Direct link to Part 2: Create the Machine Registration Endpoint" title="Direct link to Part 2: Create the Machine Registration Endpoint">â€‹</a></h2><p>In the OS Management dashboard hit the create registration endpoint button.</p><p><img loading="lazy" alt="OS Management registration endpoints" src="/assets/images/rancher-vmware-registration-endpoints-040525e42e8fcfde1c35a85e44b1bc32.png" width="757" height="404" class="img_ev3q"></p><p>Now here either you can enter each detail in its respective places or you can edit this as yaml and create the endpoint in one go. Here we will edit this as yaml.</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> elemental.cattle.io/v1beta1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> MachineRegistration</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> elemental</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cls1</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> fleet</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">default</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">cloud-config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">users</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">passwd</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> root</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">elemental</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">install</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">reboot</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">device</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /dev/sda</span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">debug</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">registration</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">emulate-tpm</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">emulated-tpm-seed</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">machineName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">machineInventoryLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">manufacturer</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${System Information/Manufacturer}&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">productName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${System Information/Product Name}&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">serialNumber</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${System Information/Serial Number}&quot;</span><span class="token plain"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">machineUUID</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;${System Information/UUID}&quot;</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Remove the existing content and enter this code snippet and click on save. Remember to modify this as per your need.</p><div class="theme-admonition theme-admonition-info alert alert--info admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>main options</div><div class="admonitionContent_S0QG"><p>name: elemental-cls1 --&gt; &quot;Change this as per your need&quot;</p><p>device: /dev/sda --&gt; Make sure your target device is &quot;sda&quot; otherwise find out and change the naming convention here, for example in raspberry pi it could be &quot;mmblk---&quot;</p><p>emulate-tpm: true  --&gt; Use this only if your target device doesnt have a tpm device and you have a way of emulating tpm like in VMware or KVM</p><p>emulated-tpm-seed: 1 --&gt; increase this by 1 for every new machine. --&gt; If this is not given each machine will recieve the same tpm hash so at any point in time regardless of how many machines you boot it wont show up under the machine inventory.</p></div></div><div class="theme-admonition theme-admonition-danger alert alert--danger admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>attention</div><div class="admonitionContent_S0QG"><p>Emulate TPM is only for non-production usage like for testing as it beats the purpose of security. So in production usage use the code above without the emulate-tpm and emulate-tpm-seed</p></div></div><p>Once you create the machine registration end point it should show up as active.</p><p><img loading="lazy" alt="Machine registered in Registration Endpoints" src="/assets/images/rancher-vmware-machine-registered-fa33715b7ace60ba91c3ab12694be684.png" width="559" height="464" class="img_ev3q"></p><p>Next click on it to view the registration url and download the initial-registration yaml.</p><p><img loading="lazy" alt="Initial registration URL" src="/assets/images/rancher-vmware-initial-registration-url-0c8db5dad180464052c36f376b17c8e3.png" width="1454" height="611" class="img_ev3q"></p><p>Hit the download button, this will download the &quot;initial-registration.yaml&quot; file on to your local system.</p><p>The registration yaml looks something like this:</p><p><img loading="lazy" alt="Example of initial registration YAML" src="/assets/images/rancher-vmware-initial-registration-url-yaml-2976a9c6180726ebb308057cb33ae38f.png" width="947" height="384" class="img_ev3q"></p><p>We will use this file and inject its content into our vanilla elemental iso.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-3-create-the-iso">Part 3: Create the ISO<a href="#part-3-create-the-iso" class="hash-link" aria-label="Direct link to Part 3: Create the ISO" title="Direct link to Part 3: Create the ISO">â€‹</a></h2><p>Make sure you have initial-registration.yaml in the system where you will create the iso in this we will use a Linux vm.</p><p>Create a directory to keep everything:</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:#d73a49">mkdir</span><span class="token plain"> /home/tux/elemental-demo </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token builtin class-name">cd</span><span class="token plain"> /home/tux/elemental-demo</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Create a file and copy the contents of the initial-registration.yaml in it.</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:#d73a49">vim</span><span class="token plain"> initial-registration.yaml</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Create file with initial registration YAML" src="/assets/images/rancher-vmware-initial-registration-yaml-61b7ae494fd22967d770b3124dd1da9b.png" width="1105" height="441" class="img_ev3q"></p><p>Next download the script to download the iso and inject the registration.yaml in the iso and make it executable</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> -q https://raw.githubusercontent.com/rancher/elemental/main/.github/elemental-iso-add-registration </span><span class="token operator" style="color:#393A34">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x elemental-iso-add-registration</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next execute the script and pass the initial-registration.yaml as an argument</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./elemental-iso-add-registration initial-registration.yaml</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><img loading="lazy" alt="Create ISO with the initial registration options" src="/assets/images/rancher-vmware-iso-create-94c20367fff7dd76b113c5f2e046fd69.png" width="1654" height="1206" class="img_ev3q"></p><p>This command will download the vanilla iso and inject it with the parameters of initial-registration.yaml and create a final iso for you to boot your end device.</p><div class="theme-admonition theme-admonition-note alert alert--secondary admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_S0QG"><p>If you would like to download the vanilla ISO and reuse it later to create additional ISO&#x27;s, then you can download the iso separately using the below command and then pass the local file path as an argument to the script</p><div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv codeBlockLinesWithNumbering_o6Pm"><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token function" style="color:#d73a49">wget</span><span class="token plain"> https://download.opensuse.org/repositories/isv:/Rancher:/Elemental:/Stable:/Teal53/media/iso/elemental-teal.x86_64.iso </span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain" style="display:inline-block"></span></span><br></span><span class="token-line codeLine_lJS_" style="color:#393A34"><span class="codeLineNumber_Tfdd"></span><span class="codeLineContent_feaV"><span class="token plain">./elemental-iso-add-registration initial-registration.yaml /home/elemental-iso/elemental-teal.x86_64.iso</span></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-4-boot-the-target-device">Part 4: Boot the target device<a href="#part-4-boot-the-target-device" class="hash-link" aria-label="Direct link to Part 4: Boot the target device" title="Direct link to Part 4: Boot the target device">â€‹</a></h2><p>Now ideally you would just burn the iso to a usb drive and boot your edge device using the usb device and once it boots and become active in Rancher under machine inventory you can select and create a cluster from it, however here we will use a vm to mimic an edge device for testing.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="41-prepare-the-vm-to-emulate-tpm">4.1 Prepare the VM to emulate TPM<a href="#41-prepare-the-vm-to-emulate-tpm" class="hash-link" aria-label="Direct link to 4.1 Prepare the VM to emulate TPM" title="Direct link to 4.1 Prepare the VM to emulate TPM">â€‹</a></h3><p>In VMware workstation create a vm the way you would do normally, make sure to give the HDD size at least 40 GB.</p><p>Now edit the machine settings and go to the &quot;Options&quot; tab. The very last option would be &quot;Advanced&quot;.</p><p>Click on &quot;advanced&quot; and on the right window pane change the firmware type from &quot;BIOS&quot; to &quot;UEFI&quot; and check the &quot;Enable secure boot&quot; option as follow:</p><ul><li>Default settings with BIOS selected</li></ul><p><img loading="lazy" alt="VM boot options with BIOS" src="/assets/images/rancher-vmware-vm-boot-bios-28b0123c0fbaf64ff7fe1f5634b0f1ae.png" width="709" height="218" class="img_ev3q"></p><ul><li>Updated settings with UEFI selected and secure boot enabled</li></ul><p><img loading="lazy" alt="VM boot options with UEFI" src="/assets/images/rancher-vmware-vm-boot-uefi-ca7f800f1c8469b9c1477f78b6ca22e5.png" width="684" height="208" class="img_ev3q"></p><p>Now on the same &quot;Options&quot; tab click on the &quot;Access Control&quot; option and click on &quot;Encrypt&quot; on the right side.</p><p><img loading="lazy" alt="Access control menu" src="data:image/png;base64,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" width="242" height="28" class="img_ev3q"></p><p>This will ask you to enter a password to encrypt the machine. Enter a password and click on &quot;Encrypt&quot;</p><p><img loading="lazy" alt="Access control encryption credentials" src="/assets/images/rancher-vmware-access-control-encrypt-60a89768dd80961e42f48b1717f607cb.png" width="352" height="431" class="img_ev3q">  </p><p>This is important to add the TPM Hardware. Next go back to the Hardware options and click on &quot;Add&quot;</p><p>And add the TPM (Trusted Platform Module) hardware and click on &quot;Finish&quot;</p><p>Now with the completion of this step our VM is ready.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="42-boot-the-vm-with-the-elemental-iso">4.2 Boot the VM with the elemental ISO<a href="#42-boot-the-vm-with-the-elemental-iso" class="hash-link" aria-label="Direct link to 4.2 Boot the VM with the elemental ISO" title="Direct link to 4.2 Boot the VM with the elemental ISO">â€‹</a></h3><p>Next add the ISO that we created earlier in the VM and boot it up.</p><p>It should boot up with the ISO and start installing Elemental:</p><p><img loading="lazy" alt="Elemental OS install grub menu" src="data:image/png;base64,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" width="677" height="451" class="img_ev3q"></p><p><img loading="lazy" alt="Elemental OS install logs" src="/assets/images/rancher-vmware-elemental-install-logs-a0fe1cb2f06bd446319ea8755907dcba.png" width="1052" height="281" class="img_ev3q"></p><p>And once it is complete it will reboot the VM and it should show up as active under the machine inventory in Rancher as follow:</p><ul><li>Machine inventory status while booting</li></ul><p><img loading="lazy" alt="Machine inventory status during boot" src="/assets/images/rancher-vmware-machine-inventory-status-booting-fba3e4b35fc4b52b43fa92dc00f14d28.png" width="612" height="159" class="img_ev3q"></p><ul><li>Machine inventory status after boot completed</li></ul><p><img loading="lazy" alt="Machine inventory status after boot complete" src="/assets/images/rancher-vmware-machine-inventory-status-boot-complete-401945492ded59c3f4f94e8dc7ecc419.png" width="622" height="112" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-5-create-a-cluster-on-the-machine">Part 5: Create a cluster on the machine<a href="#part-5-create-a-cluster-on-the-machine" class="hash-link" aria-label="Direct link to Part 5: Create a cluster on the machine" title="Direct link to Part 5: Create a cluster on the machine">â€‹</a></h2><p>Once the machine shows up as active, select it and hit &quot;Create Elemental Cluster&quot;.</p><p><img loading="lazy" alt="Create Elemental cluster" src="/assets/images/rancher-vmware-elemental-cluster-create-8d06bbcd84075d084212bc3d049dfbbc.png" width="811" height="398" class="img_ev3q"></p><p>At this stage you get a pretty familiar page of creating a cluster in Rancher.</p><p>Give the cluster a name select the Kubernetes version and hit &quot;Create&quot;.</p><p>For this we have selected to create a K3S cluster.</p><p><img loading="lazy" alt="Elemental cluster configuration" src="/assets/images/rancher-vmware-elemental-cluster-template-71f1e521ea8047e899ec3b0f9e48225b.png" width="2294" height="1224" class="img_ev3q"></p><p>Now under the Cluster Management page the cluster should show up as creating:</p><p><img loading="lazy" alt="Elemental cluster provisioning" src="/assets/images/rancher-vmware-elemental-cluster-provisioning-b1a441f0c9dd8db3af090c57bf8b216c.png" width="793" height="279" class="img_ev3q"></p><p>And once the cluster is fully provisioned it should be active with provider type as &quot;Elemental&quot;.</p><p><img loading="lazy" alt="Elemental cluster created" src="/assets/images/rancher-vmware-elemental-cluster-created-39460fab3f9c3863673be51507d2d22d.png" width="2279" height="242" class="img_ev3q"></p><p>Now you can start deploying application on this cluster the normal way.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/next/elemental_behind_proxy"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Elemental behind proxy</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/next/removable-device-cloudconfig"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Include cloud-config from removable devices</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#excerpt" class="table-of-contents__link toc-highlight">Excerpt</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#part-1-rancher-configuration" class="table-of-contents__link toc-highlight">Part 1: Rancher Configuration</a><ul><li><a href="#11-enable-the-extensions-under-rancher-configurations-menu" class="table-of-contents__link toc-highlight">1.1 Enable the extensions under Rancher configurations menu</a></li><li><a href="#12-install-elemental-plugin" class="table-of-contents__link toc-highlight">1.2 Install Elemental Plugin</a></li><li><a href="#13-install-the-elemental-operator-in-rancher-cluster" class="table-of-contents__link toc-highlight">1.3 Install the elemental operator in Rancher cluster</a></li></ul></li><li><a href="#part-2-create-the-machine-registration-endpoint" class="table-of-contents__link toc-highlight">Part 2: Create the Machine Registration Endpoint</a></li><li><a href="#part-3-create-the-iso" class="table-of-contents__link toc-highlight">Part 3: Create the ISO</a></li><li><a href="#part-4-boot-the-target-device" class="table-of-contents__link toc-highlight">Part 4: Boot the target device</a><ul><li><a href="#41-prepare-the-vm-to-emulate-tpm" class="table-of-contents__link toc-highlight">4.1 Prepare the VM to emulate TPM</a></li><li><a href="#42-boot-the-vm-with-the-elemental-iso" class="table-of-contents__link toc-highlight">4.2 Boot the VM with the elemental ISO</a></li></ul></li><li><a href="#part-5-create-a-cluster-on-the-machine" class="table-of-contents__link toc-highlight">Part 5: Create a cluster on the machine</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/">Elemental</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rancher-users.slack.com/channels/elemental" target="_blank" rel="noopener noreferrer" class="footer__link-item">Slack #elemental<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://rancher.github.io/elemental-toolkit" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elemental Toolkit<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rancher/elemental-operator" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elemental Operator<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rancher/elemental-cli" target="_blank" rel="noopener noreferrer" class="footer__link-item">Elemental CLI<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/rancher/system-agent" target="_blank" rel="noopener noreferrer" class="footer__link-item">Rancher System Agent<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2023 SUSE Rancher. All Rights Reserved</div></div></div></footer></div>
<script src="/assets/js/runtime~main.d14b8822.js"></script>
<script src="/assets/js/main.8f8f1b98.js"></script>
</body>
</html>